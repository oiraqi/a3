<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>
		<record id="view_node_form" model="ir.ui.view">
			<field name="name">ixdms.node.form</field>
			<field name="model">ixdms.node</field>
			<field name="arch" type="xml">
				<form string="Node">
					<sheet>
						<b>
							<field name="type" attrs="{'readonly': [('id', '!=', False)]}" style="width: 15%"/>
						</b>
						<h1>
							<field name="name" default_focus="1" placeholder="Name..." style="width: 50%"/>
						</h1>
						<group name="metadata" string="Meta-Data" col="4">
							<field name="parent_id" options="{'no_quick_create': True, 'no_create_edit': True}"/>
							<field name="tag_ids" widget="many2many_tags"/>
						</group>
						<group name="document" string="File &#38; URL" col="4" attrs="{'invisible': [('type', '!=', '2')]}">
							<field name="file" widget="binary"/>
							<field name="url" widget="url"/>
						</group>
						<group name="folder" string="Content" col="4" attrs="{'invisible': [('type', '!=', '1')]}">
							<field name="child_ids" mode="kanban" nolabel="1" context="{'default_parent_id': active_id}">
								<kanban>
									<field name="color"/>
									<templates>
										<t t-name="kanban-box">
											<div t-att-class="oe_kanban_global_click">
												<div class="o_dropdown_kanban dropdown">
													<a role="button" class="dropdown-toggle o-no-caret btn" data-toggle="dropdown" data-display="static" href="#" aria-label="Dropdown menu" title="Dropdown menu">
														<span class="fa fa-ellipsis-v"/>
													</a>
													<div class="dropdown-menu" role="menu">
														<ul class="oe_kanban_colorpicker" data-field="color"/>
													</div>
												</div>
												<div t-attf-class="#{kanban_color(record.color.raw_value)} oe_kanban_details">
													<field name="type"/>
													<br/>
													<b>
														<field name="name"/>
													</b>
													<br/>
													<field name="tag_ids" widget="many2many_tags"/>
												</div>
											</div>
										</t>
									</templates>
								</kanban>
							</field>
						</group>
						<group name="log" string="Log" col="4">
							<field name="create_uid"/>
							<field name="create_date"/>
							<field name="write_uid"/>
							<field name="write_date"/>
						</group>
					</sheet>
				</form>
			</field>
		</record>
		<!-- ixdms.node kanban view -->
		<record id="view_node_kanban" model="ir.ui.view">
			<field name="name">ixdms.node.kanban</field>
			<field name="model">ixdms.node</field>
			<field name="arch" type="xml">
				<kanban string="Folders &#38; Documents">
					<field name="color"/>
					<field name="type"/>
					<templates>
						<t t-name="kanban-box">
							<div t-att-class="oe_kanban_global_click">
								<div class="o_dropdown_kanban dropdown">
									<a role="button" class="dropdown-toggle o-no-caret btn" data-toggle="dropdown" data-display="static" href="#" aria-label="Dropdown menu" title="Dropdown menu">
										<span class="fa fa-ellipsis-v"/>
									</a>
									<div class="dropdown-menu" role="menu">
										<ul class="oe_kanban_colorpicker" data-field="color"/>
									</div>
								</div>
								<t t-if="record.type.raw_value == '1'">
									<img t-att-src="'/ixdms/static/img/folder.png'" class="oe_module_icon"/>
								</t>
								<t t-if="record.type.raw_value == '2'">
									<img t-att-src="'/ixdms/static/img/document.png'" class="oe_module_icon"/>
								</t>								
								<div name="content" class="oe_kanban_details">
									<b>
										<field name="name"/>
									</b>
									<br/>
									<field name="tag_ids" widget="many2many_tags"/>
								</div>
							</div>
						</t>
					</templates>
				</kanban>
			</field>
		</record>
		<record id="view_node_tree" model="ir.ui.view">
			<field name="name">ixdms.node.tree</field>
			<field name="model">ixdms.node</field>
			<field eval="8" name="priority"/>
			<field name="arch" type="xml">
				<tree string="Nodes">
					<field name="name"/>
					<field name="type"/>
				</tree>
			</field>
		</record>
		<record id="action_node" model="ir.actions.act_window">
			<field name="name">Nodes</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">ixdms.node</field>
			<field name="view_mode">kanban,tree,form</field>
			<field name="domain">[]</field>
			<field name="context">{}</field>
			<field name="help" type="html">
				<p class="o_view_nocontent_smiling_face">

				</p>
				<p>

				</p>
			</field>
		</record>
		<record id="action_node_form_view" model="ir.actions.act_window.view">
			<field name="sequence" eval="3"/>
			<field name="view_mode">form</field>
			<field name="view_id" ref="view_node_form"/>
			<field name="act_window_id" ref="action_node"/>
		</record>
		<record id="action_node_tree_view" model="ir.actions.act_window.view">
			<field name="sequence" eval="2"/>
			<field name="view_mode">tree</field>
			<field name="view_id" ref="view_node_tree"/>
			<field name="act_window_id" ref="action_node"/>
		</record>
		<record id="action_node_kanban_view" model="ir.actions.act_window.view">
			<field name="sequence" eval="1"/>
			<field name="view_mode">kanban</field>
			<field name="view_id" ref="view_node_kanban"/>
			<field name="act_window_id" ref="action_node"/>
		</record>
	</data>
</odoo>